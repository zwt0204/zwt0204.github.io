---
layout:     post
title:      "vim"
subtitle:   " \"vim\""
date:       2020-08-11 15:30:00 
mathjax: true
author:     "zwt"
header-img: "img/post-bg-2015.jpg"
catalog: false
tags:
    - project
---
* TOC
{:toc}

# nohup

实现后台运行指令不挂起。

示例：
```
nohup test.sh & 表示在后台执行test.sh脚本
输出appending output to nohup.out表示运行成功，这时再当前目录下可以看到生成nohup.out文件。如果需要停止运行，需要先查找pid
pid的查找：ps -aux | grep "test.sh"
杀死进程：kill PID

nohup test.sh > test.lod 2>&1 &   表示运行test脚本并重定向输入到test.log文件
2>&1 表示：将标准错误 2 重定向到标准输出 &1 ，标准输出 &1 再被重定向输入到 test.log 文件中。
0 – stdin (standard input，标准输入)
1 – stdout (standard output，标准输出)
2 – stderr (standard error，标准错误输出)

nohup python -u Job.py > log.file 2>&1 &
-u是为了可以用tail -f log.file实时查看日志

jobs -l 在当前终端查看进程，关闭后新打开的终端无效
```


# vim操作
```
进入vim后按i进入插入模式
:q 退出
:wq 保存退出
:w 保存
:w! 强制保存
:q! 强制退出
:wq! 强制保存退出
G 跳转到最后一行
gg 第一行的第一个字符
:/name:表示搜索name这个字符
设置行号 :set nu
```

# 杀进程

```
kill id:杀死进程
kill -KILL id:强制杀死进程
kill -9 id:彻底杀死进程
kill -u username :杀死指定用户所有进程
```

# 创建用户

sudo su 获取root权限
新建用户：
```
切换到root权限
useradd -d /home/zwt zwt
passwd zwt
mkdir -p /home/zwt
chown zwt:zwt /home/zwt
su zwt  输入密码
```

# xhsell下文件的传输
```
安装 sudo apt-get install lrzsz
上传文件 rz
下载文件 sz
文件传输大小不能超过4G
```

# 将普通用户加入到root权限
```
在root用户下vim /etc/sudoers
添加username ALL=(ALL:ALL) ALL
wq!  强制保存推出
```
# 其他命令

```
du -hs 文件名  查看文件大小
zip filename.zip filename   压缩文件
unzip filenam.zip  解压缩
netstat -anp | grep 22  查看端口占用情况
ps -aux | grep java  查看进程信息
ls -l /proc/pid  查看运行程序的绝对路径
fuser -v /dev/nvidia* 查看显存占用
ssh -p 6000 服务器用户名@localhost
解压到当前文件夹：tar zxvf  文件名.tgz -C ./ 
解压到指定文件夹下 tar  zxvf  文件名.tgz  -C /指定路径 
```

# 一点问题

升级gcc碰到问题：ModuleNotFoundError: No module named 'softwareproperties'
```
sudo vim /usr/bin/add-apt-respository   sudo vim /usr/bin/add-apt-respository
```