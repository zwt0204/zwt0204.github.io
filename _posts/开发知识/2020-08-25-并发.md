---
layout:     post
title:      "并发"
subtitle:   " \"并发\""
date:       2020-08-25 18:00:00
mathjax: true
author:     "zwt"
header-img: "img/post-bg-2015.jpg"
catalog: false
tags:
    - 开发
---
* TOC
{:toc}
# 基础概念

为什么需要并发：
```
计算机内部的运行离不开CPU、内存、IO设备的高速发展。但是其运行的速度一直存在差异。
寄存器》高速缓存》主存》磁盘
```

解决的一些问题
```
资源利用率：单进程在你写字的时候就不能听歌
公平性：便利不同的用户能够使用计算机上的资源
便利性：单进程不能通信，及时的通信可以避免信息孤岛
```
原子性：
```
完全独立于任何其他进程运行的操作，原子操作要么全部执行，要么全部不执行。
```
有序性：
```
指令的先后执行顺序，一个明显例子就是JVM的加载：经历五个阶段 「加载、连接、初始化、使用、卸载」。这五个过程的执行顺序是一定的，但是在连接阶段，也会分为三个过程，即 「验证、准备、解析」阶段，这三个阶段的执行顺序不是确定的，通常交叉进行，在一个阶段的执行过程中会激活另一个阶段。
```
活跃性：
```
简单来说就是一件事情是否会发生
注意：如果一组线程中每个线程都在等待一个事件的发生，而这个事件只能由该组中正在等待的线程触发，这个情况会导致死锁。
```
死锁：造成死锁的原因有四个，破坏其中一个就可以破坏死锁
```
互斥：一段时间内某资源只由一个进程占用。如果此时还有其它进程请求资源，则请求者只能等待，直至占有资源的进程释放。
请求与保持连接：指进程已经保持至少一个资源，但又提出了新的资源请求，而该资源已被其它进程占有，此时请求进程阻塞，但又对自己已获得的其它资源保持占有。
不剥夺条件：指进程已获得的资源，在未使用完之前，不能被剥夺，只能在使用完时由自己释放。
循环等待：指在发生死锁时，必然存在一个进程对应的环形链。
```

进程线程：
```
进程(系统资源分配和调度的基本单位)是一个应用程序，线程是应用程序中的一条顺序流（程序执行的最小单元）
```
![](https://zwt0204.github.io//img/并发.png)

多线程：
```
线程是运行在cpu上，但是多线程不一定对应多个cpu，一个cpu也可以实现多线程。
单cpu实现多线程是进行了线程间的切换（），看起来像是在同时运行
并发：程序会执行多个任务
并行：程序将任务分解为较小的子任务，这些子任务可以并行处理
```
![](https://zwt0204.github.io//img/并发1.png)

线程安全性：
```
当多个线程访问某个类时，这个类始终都能表现出正确的行为，那么就称这个类是线程安全的
```



# 参考
1. [多线程](https://mp.weixin.qq.com/s/-neNTZtKIwYtnIqhlE6DFg)